<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Design with Python &#8212; Opentrons API v2.0</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/nav.css" type="text/css" />
    <link rel="stylesheet" href="_static/override_sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/override_master.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.8.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="Opentrons API v2.0" href="index.html" />
    <link rel="next" title="Labware" href="labware.html" />
    <link rel="prev" title="Opentrons API" href="index.html" />
 
<link rel="stylesheet" href="_static/custom.css" type="text/css" />  
<meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />
<script src="_static/Akko-Pro-All.js"></script>
<!-- INTERCOM -->
<script>
window.intercomSettings = {
  app_id: 'ukpodv2l'
};
</script>
<script>
(function () {
  var w = window;
  var ic = w.Intercom;
  if (typeof ic === "function") {
    ic('reattach_activator');
    ic('update', intercomSettings);
  } else {
    var d = document;
    var i = function() {
      i.c(arguments)
    };
    i.q = [];
    i.c = function(args) {
      i.q.push(args)
    };
    w.Intercom = i;

    function l () {
      var s = d.createElement('script');
      s.type = 'text/javascript';
      s.async = true;
      s.src = 'https://widget.intercom.io/widget/ukpodv2l';
      var x = d.getElementsByTagName('script')[0];
      x.parentNode.insertBefore(s, x);
    }
    if (w.attachEvent) {
        w.attachEvent('onload', l);
    } else {
        w.addEventListener('load', l, false);
    }
  }
})()
</script>
<script>
  function toggleNav () {
    document.getElementById('main-menu').classList.toggle('open');
  }
</script>

  </head>
  <body role="document">

<header id="nav">
  <nav class="main-menu" id="main-menu" class="">
    <a href="#" class="brand"><img class="top-nav-logo" src="https://s3.amazonaws.com/opentrons-images/website/ot_logo_full.png" alt="OpenTrons Logo Home" />
    </a>

    <div id="nav-collapse" onclick="toggleNav()">
      <div class="bar1"></div>
      <div class="bar2"></div>
      <div class="bar3"></div>
    </div>

    <ul >
      <li>
        <a href="#" class="top-level">
         Products
        </a>
        <ul>
          <li><a href="https://opentrons.com/robots" >OT-One</a></li>
          <li><a href="https://opentrons.com/ot-2" >OT-2</a></li>
          <li><a href="https://opentrons.com/pipettes" >OT-2 Pipettes</a></li>
          <li><a href="https://opentrons.com/modules" >Modules</a></li>
          <li><a href="https://opentrons.com/ot-app" >OT App</a></li>
          <li><a href="https://protocols.opentrons.com/" target="_blank">Protocol Library</a></li>
        </ul>

      </li>
      <li>
        <a href="#">
          Company
        </a>
        <ul>
        <li><a href="https://opentrons.com/jobs" target="_blank" class="hiring">We're Hiring</a></li>
          <li><a href="https://opentrons.com/about" >About</a></li>
          <li><a href="https://opentrons.com/team" >Team</a></li>
          <li><a href="https://blog.opentrons.com/">Blog</a></li>
          <li><a href="https://opentrons.com/contact" >Contact Us</a></li>
        </ul>
      </li>
      <li>
        <a href="#">
          Resources
        </a>
        <ul>
        <li><a href="https://support.opentrons.com" target="_blank">Support</a></li>
          <li><a href="http://docs.opentrons.com/" target="_blank">Opentrons API</a></li>
          <li><a href="https://github.com/Opentrons/opentrons/blob/edge/CONTRIBUTING.md" target="_blank">Open Source</a></li>
        </ul>
      </li>
      <li>
        <a href="https://shop.opentrons.com/" class="buy">
          Buy
        </a>
      </li>
    </ul>
  </nav>
</header>   

    <div class="document">
    <div class="documentwrapper">
        <div class="bodywrapper">
            <div class="body" role="main">
                
  <div class="section" id="design-with-python">
<span id="writing"></span><h1>Design with Python<a class="headerlink" href="#design-with-python" title="Permalink to this headline">¶</a></h1>
<p>Writing protocols in Python requires some up-front design before seeing your liquid handling automation in action. At a high-level, writing protocols with the Opentrons API looks like:</p>
<ol class="arabic simple">
<li>Write a Python protocol</li>
<li>Test the code for errors</li>
<li>Repeat steps 1 &amp; 2</li>
<li>Calibrate labware on robot</li>
<li>Run your protocol</li>
</ol>
<p>These sets of documents aim to help you get the most out of steps 1 &amp; 2, the &#8220;design&#8221; stage.</p>
<hr class="docutils" />
<div class="section" id="python-for-beginners">
<h2>Python for Beginners<a class="headerlink" href="#python-for-beginners" title="Permalink to this headline">¶</a></h2>
<p>If Python is new to you, we suggest going through a few simple tutorials to acquire a base understanding to build upon. The following tutorials are a great starting point for working with the Opentrons API (from <a class="reference external" href="http://www.learnpython.org/">learnpython.org</a>):</p>
<ol class="arabic simple">
<li><a class="reference external" href="http://www.learnpython.org/en/Hello%2C_World%21">Hello World</a></li>
<li><a class="reference external" href="http://www.learnpython.org/en/Variables_and_Types">Variables and Types</a></li>
<li><a class="reference external" href="http://www.learnpython.org/en/Lists">Lists</a></li>
<li><a class="reference external" href="http://www.learnpython.org/en/Basic_Operators">Basic Operators</a></li>
<li><a class="reference external" href="http://www.learnpython.org/en/Conditions">Conditions</a></li>
<li><a class="reference external" href="http://www.learnpython.org/en/Loops">Loops</a></li>
<li><a class="reference external" href="http://www.learnpython.org/en/Functions">Functions</a></li>
<li><a class="reference external" href="http://www.learnpython.org/en/Dictionaries">Dictionaries</a></li>
</ol>
<p>After going through the above tutorials, you should have enough of an understanding of Python to work with the Opentrons API and start designing your experiments!
More detailed information on python can always be found at <a class="reference external" href="https://docs.python.org/3/index.html">the python docs</a></p>
</div>
<hr class="docutils" />
<div class="section" id="working-with-python">
<h2>Working with Python<a class="headerlink" href="#working-with-python" title="Permalink to this headline">¶</a></h2>
<p>Using a popular and free code editor, like <a class="reference external" href="https://www.sublimetext.com/3">Sublime Text 3</a>, is a common method for writing Python protocols. Download onto your computer, and you can now write and save Python scripts.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Make sure that when saving a protocol file, it ends with the <code class="docutils literal"><span class="pre">.py</span></code> file extension. This will ensure the App and other programs are able to properly read it.</p>
<p class="last">For example, <code class="docutils literal"><span class="pre">my_protocol.py</span></code></p>
</div>
</div>
<div class="section" id="simulating-python-protocols">
<h2>Simulating Python Protocols<a class="headerlink" href="#simulating-python-protocols" title="Permalink to this headline">¶</a></h2>
<p>In general, the best way to simulate a protocol is to simply upload it to an OT 2 through the Opentrons app. When you upload a protocol via the Opentrons app, the robot simulates the protocol and the app displays any errors. However, if you want to simulate protocols without being connected to a robot, you can download the Opentrons python package.</p>
<div class="section" id="installing">
<h3>Installing<a class="headerlink" href="#installing" title="Permalink to this headline">¶</a></h3>
<p>To install the Opentrons package, you must install it from Python’s package manager, <cite>pip</cite>. The exact method of installation is slightly different depending on whether you use Jupyter on your computer (note: you do not need to do this if you want to use the <a class="reference internal" href="#writing-robot-jupyter"><span class="std std-ref">Robot’s Jupyter Notebook</span></a>, ONLY for your locally-installed notebook) or not.</p>
<div class="section" id="non-jupyter-installation">
<h4>Non-Jupyter Installation<a class="headerlink" href="#non-jupyter-installation" title="Permalink to this headline">¶</a></h4>
<p>First, install Python 3.6 (<a class="reference external" href="https://www.python.org/ftp/python/3.6.4/python-3.6.4-amd64.exe">Windows x64</a>, <a class="reference external" href="https://www.python.org/ftp/python/3.6.4/python-3.6.4.exe">Windows x86</a>, <a class="reference external" href="https://www.python.org/ftp/python/3.6.4/python-3.6.4-macosx10.6.pkg">OS X</a>) on your local computer.</p>
<p>Once the installer is done, make sure that Python is properly installed by opening a terminal and doing <code class="docutils literal"><span class="pre">python</span> <span class="pre">--version</span></code>. If this is not 3.6.4, you have another version of Python installed; this happens frequently on OS X and sometimes on windows. We recommend using a tool like <a class="reference external" href="https://github.com/pyenv/pyenv">pyenv</a> to manage multiple Python versions. This is particularly useful on OS X, whch has a built in install of Python 2.7 that should not be removed.</p>
<p>Once python is installed, install the <a class="reference external" href="https://pypi.org/project/opentrons/">opentrons package</a> using <code class="docutils literal"><span class="pre">pip</span></code>:</p>
<div class="highlight-shell"><div class="highlight"><pre><span></span>pip install opentrons
</pre></div>
</div>
<p>You should see some output that ends with <code class="docutils literal"><span class="pre">Successfully</span> <span class="pre">installed</span> <span class="pre">opentrons-3.6.5</span></code> (the version number may be different).</p>
</div>
<div class="section" id="jupyter-installation">
<h4>Jupyter Installation<a class="headerlink" href="#jupyter-installation" title="Permalink to this headline">¶</a></h4>
<p>You must make sure that you install the <cite>opentrons</cite> package for whichever kernel and virtual environment the notebook is using. A generally good way to do this is</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>import sys
!{sys.executable} -m pip install opentrons
</pre></div>
</div>
</div>
</div>
<div class="section" id="simulating">
<h3>Simulating<a class="headerlink" href="#simulating" title="Permalink to this headline">¶</a></h3>
<p>Once the Opentrons Python package is installed, you can simulate protocols in your terminal using the <code class="docutils literal"><span class="pre">opentrons_simulate</span></code> command:</p>
<div class="highlight-shell"><div class="highlight"><pre><span></span>opentrons_simulate.exe my_protocol.py
</pre></div>
</div>
<p>or, on OS X or linux,</p>
<div class="highlight-shell"><div class="highlight"><pre><span></span>opentrons_simulate my_protocol.py
</pre></div>
</div>
<p>The simulator will print out a log of the actions the protocol will cause, similar to the Opentrons app; it will also print out any log messages caused by a given command next to that list of actions. If there is a problem with the protocol, the simulation will stop and the error will be printed.</p>
<p>The simulation script can also be invoked through python with <code class="docutils literal"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">opentrons.simulate</span> <span class="pre">/path/to/protocol</span></code>.</p>
<p>This also provides an entrypoint to use the Opentrons simulation package from other Python contexts such as an interactive prompt or Jupyter. To simulate a protocol in python, open a file containing a protocol and pass it to <code class="docutils literal"><span class="pre">opentrons.simulate.simulate</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">opentrons.simulate</span>
<span class="n">protocol_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;/path/to/protocol.py&#39;</span><span class="p">)</span>
<span class="n">runlog</span> <span class="o">=</span> <span class="n">opentrons</span><span class="o">.</span><span class="n">simulate</span><span class="o">.</span><span class="n">simulate</span><span class="p">(</span><span class="n">protocol_file</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">format_runlog</span><span class="p">(</span><span class="n">runlog</span><span class="p">))</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="api.html#opentrons.simulate.simulate" title="opentrons.simulate.simulate"><code class="xref py py-meth docutils literal"><span class="pre">opentrons.simulate.simulate()</span></code></a> method does the work of simulating the protocol and returns the run log, which is a list of structured dictionaries. <a class="reference internal" href="api.html#opentrons.simulate.format_runlog" title="opentrons.simulate.format_runlog"><code class="xref py py-meth docutils literal"><span class="pre">opentrons.simulate.format_runlog()</span></code></a> turns that list of dictionaries into a human readable string, which is then printed out. For more information on the protocol simulator, see <a class="reference internal" href="api.html#simulating-ref"><span class="std std-ref">Simulation</span></a>.</p>
</div>
<div class="section" id="configuration-and-local-storage">
<h3>Configuration and Local Storage<a class="headerlink" href="#configuration-and-local-storage" title="Permalink to this headline">¶</a></h3>
<p>The module uses a folder in your user directory as a place to store and read configuration and changes to its internal data. For instance, if your protocol creates a custom labware, the custom labware will live in the local storage location. This location is <code class="docutils literal"><span class="pre">~/.opentrons</span></code> on Linux or OSX and <code class="docutils literal"><span class="pre">C:\Users\%USERNAME%\.opentrons</span></code> on Windows.</p>
</div>
</div>
<div class="section" id="robots-jupyter-notebook">
<span id="writing-robot-jupyter"></span><h2>Robot’s Jupyter Notebook<a class="headerlink" href="#robots-jupyter-notebook" title="Permalink to this headline">¶</a></h2>
<p>For a more interactive environment to write and debug using some of our API tools, we recommend using the Jupyter notebook which is installed on the robot. Using this notebook, you can develop a protocol by running its commands line-by-line, ensuring they do exactly what you want, before saving the protocol for later execution.</p>
<p>You can access the robot’s Jupyter notebook by following these steps:</p>
<ol class="arabic simple">
<li>Open your Opentrons App and look for the IP address of your robot on the robot information page.</li>
<li>Type in <code class="docutils literal"><span class="pre">(Your</span> <span class="pre">Robot's</span> <span class="pre">IP</span> <span class="pre">Address):48888</span></code> into any browser on your computer.</li>
</ol>
<p>Here, you can select a notebook and develop protocols that will be saved on the robot itself. Note that these protocols will only be on the robot unless specifically downloaded to your computer using the <code class="docutils literal"><span class="pre">File</span> <span class="pre">/</span> <span class="pre">Download</span> <span class="pre">As</span></code> buttons in the notebook.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>When running protocol code in a Jupyter notebook, before executing protocol steps you must call <code class="xref py py-meth docutils literal"><span class="pre">robot.connect()</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">opentrons</span> <span class="kn">import</span> <span class="n">robot</span>
<span class="n">robot</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</pre></div>
</div>
<p>This tells the notebook to connect to the robot’s hardware so the commands you enter actually cause the robot to move.</p>
<p class="last">However, this happens automatically when you upload a protocol through the Opentrons app, and connecting twice will cause errors. To avoid this, <strong>remove the call to robot.connect()</strong> before uploading the protocol through the Opentrons app.</p>
</div>
</div>
</div>


            </div>
        </div>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="index.html">Opentrons API</a></h1>



<p class="blurb">Simple Biology Lab Protocol Coding</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=opentrons&repo=opentrons&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Table Of Contents</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Design with Python</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#python-for-beginners">Python for Beginners</a></li>
<li class="toctree-l2"><a class="reference internal" href="#working-with-python">Working with Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="#simulating-python-protocols">Simulating Python Protocols</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installing">Installing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#simulating">Simulating</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration-and-local-storage">Configuration and Local Storage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#robots-jupyter-notebook">Robot’s Jupyter Notebook</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="labware.html">Labware</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipettes.html">Creating a Pipette</a></li>
<li class="toctree-l1"><a class="reference internal" href="atomic commands.html">Atomic Liquid Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="complex commands.html">Complex Liquid Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="robot.html">Advanced Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Hardware Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Reference</a></li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="_static/OpentronsAPI.pdf">Download As PDF</a></li>
    
    <li class="toctree-l1"><a href="ot1/index.html">OT 1 API</a></li>
    
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Opentrons API</a></li>
      <li>Next: <a href="labware.html" title="next chapter">Labware</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer>
  <div class="wrapper">

    <section class="social-signup">
      <div class="social-links">
        <a href="https://www.facebook.com/OpenTrons-Labworks/" target="_blank"
        ga-on="click"
        ga-event-category="Social"
        ga-event-action="Open Facebook"
        ><img src="https://s3.amazonaws.com/opentrons-images/website/logo_facebook.png" alt="facebook logo"/></a>
        <a href="https://twitter.com/OpenTrons_" target="_blank"
        ga-on="click"
        ga-event-category="Social"
        ga-event-action="Open Twitter"><img src="https://s3.amazonaws.com/opentrons-images/website/logo_twitter.png" alt="twitter logo" /></a>
        <a href="https://www.instagram.com/opentronslab/" target="_blank"
        ga-on="click"
        ga-event-category="Social"
        ga-event-action="Open Instagram"><img src="https://s3.amazonaws.com/opentrons-images/website/logo_instagram.png" alt="instagram logo" /></a>
        <a href="https://www.youtube.com/channel/UCvMRmXIxnHs3AutkVhuqaQg" target="_blank"
        ga-on="click"
        ga-event-category="Social"
        ga-event-action="Open Youtube"><img src="https://s3.amazonaws.com/opentrons-images/website/logo_youtube.png" alt="youtube logo" /></a>
      </div>
      <h3>Sign Up For Our Newsletter</h3>
      <div id="mc_embed_signup">
        <form action="//opentrons.us8.list-manage.com/subscribe/post?u=000595683fb96c5fb3c54cf53&amp;id=ba66060a9c" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
          <div id="mc_embed_signup_scroll">
            <input type="email" value="" name="EMAIL" class="email-newsletter" id="mce-EMAIL" placeholder="email address" required
            ga-on="input"
            ga-event-category="Mailchimp"
            ga-event-action="Enter Email"
            >
            <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_000595683fb96c5fb3c54cf53_ba66060a9c" tabindex="-1" value=""></div>
            <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="gray subscribe"
            ga-on="click"
            ga-event-category="Mailchimp"
            ga-event-action="Newsletter Signup">
          </div>
        </form>
      </div>
      <p class="copyrite">&#169;&nbsp;OPENTRONS 2017</p>
    </section>
    <section class="footer-menu">
      <ul>
        <li>Products</li>
        <li><a href="https://opentrons.com/robots" >OT-One</a></li>
        <li><a href="https://opentrons.com/ot-2" >OT-2</a></li>
        <li><a href="https://opentrons.com/pipettes" >OT-2 Pipettes</a></li>
        <li><a href="https://opentrons.com/modules" >Modules</a></li>
        <li><a href="https://opentrons.com/ot-app" >OT App</a></li>
        <li><a href="https://protocols.opentrons.com/" target="_blank">Protocol Library</a></li>
      </ul>
      <ul>
        <li>Company</li>
        <li><a href="https://opentrons.com/about" >About</a></li>
        <li><a href="https://opentrons.com/team" >Team</a></li>
        <li><a href="https://blog.opentrons.com/">Blog</a></li>
        <li><a href="https://opentrons.com/contact" >Contact Us</a></li>
        <li><a href="https://opentrons.com/jobs" target="_blank" class="hiring">WE'RE HIRING</a></li>
      </ul>
      <ul>
        <li>Resources</li>
        <li><a href="https://support.opentrons.com" target="_blank">Support</a></li>
          <li><a href="http://docs.opentrons.com/" target="_blank">Opentrons API</a></li>
          <li><a href="https://github.com/Opentrons/opentrons/blob/edge/CONTRIBUTING.md" target="_blank">Open Source</a></li>
      </ul>
      <ul>
        <li><a href="https://shop.opentrons.com/" class="buy">Buy</a></li>
      </ul>

    </section>

  </div>
</footer>
<script>
document.addEventListener('DOMContentLoaded', function(){

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-83820700-1', 'auto');
ga('send', 'pageview');
 });
</script>


 
  </body>
</html>